<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자궁근종 적색변형: 진단 및 치료 인터랙티브 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #FAFAF9; /* Warm neutral background */
            color: #44403C;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .interactive-card {
            transition: all 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .active-tab {
            border-bottom: 2px solid #E11D48; /* Rose-600 */
            color: #E11D48;
            font-weight: 700;
        }
        .inactive-tab {
            color: #78716C;
            font-weight: 400;
        }
        .step-connector::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: 2rem;
            height: 2px;
            background-color: #E5E7EB;
            transform: translateY(-50%);
            z-index: 0;
        }
        @media (max-width: 768px) {
            .step-connector::after {
                display: none;
            }
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Clinical Rose Accents (Background: #FAFAF9, Text: #44403C, Accent: #E11D48) -->
    <!-- Application Structure Plan: The app is structured as a 'Clinical Pathway'. It starts with 'Definition & Pathophysiology' to set the baseline. Then, it moves to 'Diagnosis & Symptoms' using interactive cards. The core section is 'Treatment Strategy', which uses a toggle-based comparison for Conservative vs. Surgical approaches. Finally, 'Prognosis & Data' uses charts to show outcomes. This flow mimics the clinical decision-making process: Understand -> Diagnose -> Treat -> Monitor. -->
    <!-- Visualization & Content Choices: 
         1. Comparison of Treatments: Tab interface to cleanly separate and compare Conservative (Standard) vs. Surgical (Exception) protocols.
         2. Symptom Frequency: Bar chart to visually prioritize key diagnostic indicators.
         3. Pain Resolution Timeline: Line chart to manage patient expectations regarding recovery time.
         4. Incidence in Pregnancy: Pie chart to highlight the high prevalence during pregnancy.
         All visualizations use Chart.js for responsiveness and interaction. NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <span class="text-xl font-bold text-rose-700">MedicalReport<span class="text-gray-500 font-light">::적색변형</span></span>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="scrollToSection('overview')" class="text-sm font-medium text-gray-600 hover:text-rose-600 transition">개요</button>
                    <button onclick="scrollToSection('diagnosis')" class="text-sm font-medium text-gray-600 hover:text-rose-600 transition">진단</button>
                    <button onclick="scrollToSection('treatment')" class="text-sm font-medium text-gray-600 hover:text-rose-600 transition">치료전략</button>
                    <button onclick="scrollToSection('data')" class="text-sm font-medium text-gray-600 hover:text-rose-600 transition">데이터</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white border-b border-gray-100" id="overview">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-2 lg:gap-8 items-center">
                <div>
                    <h1 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                        자궁근종 적색변형 <span class="block text-rose-600 text-2xl mt-2">(Red Degeneration of Myoma)</span>
                    </h1>
                    <p class="mt-4 text-lg text-gray-600 leading-relaxed">
                        자궁근종 내부의 혈액 공급 차단으로 인한 허혈성 괴사(Ischemic Necrosis) 현상입니다. 
                        주로 <strong>임신 중</strong>에 발생하며, 급격한 복통과 발열을 동반합니다. 
                        이 보고서는 적색변형의 병태생리부터 임상적 관리 및 치료 프로토콜을 종합적으로 다룹니다.
                    </p>
                    <div class="mt-6 flex space-x-3">
                        <div class="px-4 py-2 bg-rose-50 border border-rose-100 rounded-lg text-rose-700 text-sm font-medium">
                            🚨 급성 복통의 주요 원인
                        </div>
                        <div class="px-4 py-2 bg-stone-50 border border-stone-200 rounded-lg text-stone-600 text-sm font-medium">
                            🤰 임신부 근종 합병증 1위
                        </div>
                    </div>
                </div>
                <div class="mt-8 lg:mt-0 bg-stone-50 rounded-xl p-6 border border-stone-100">
                    <h3 class="text-lg font-bold text-gray-800 mb-3">📌 핵심 요약 (Key Findings)</h3>
                    <ul class="space-y-3 text-sm text-gray-600">
                        <li class="flex items-start">
                            <span class="mr-2 text-rose-500">●</span>
                            <span><strong>원인:</strong> 근종의 급격한 성장을 혈류 공급이 따라가지 못해 발생</span>
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-rose-500">●</span>
                            <span><strong>치료 원칙:</strong> 보존적 치료(수액, 진통제)가 1차 선택</span>
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-rose-500">●</span>
                            <span><strong>예후:</strong> 대부분 4-7일 내 증상 호전, 임신 유지 가능</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-16">

        <!-- Diagnosis & Symptoms Section -->
        <section id="diagnosis">
            <div class="border-l-4 border-rose-500 pl-4 mb-6">
                <h2 class="text-2xl font-bold text-gray-900">1. 증상 및 진단 (Diagnosis)</h2>
                <p class="mt-1 text-sm text-gray-500">환자가 호소하는 임상 증상과 영상학적 진단 기준입니다. 정확한 진단이 불필요한 수술을 예방합니다.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Interactive Symptom Checker -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 interactive-card lg:col-span-1">
                    <h3 class="font-bold text-lg mb-4 flex items-center">
                        <span class="bg-rose-100 text-rose-600 rounded-full p-1 mr-2 text-xs">Check</span>
                        주요 임상 증상
                    </h3>
                    <div class="space-y-3" id="symptom-list">
                        <!-- JS generated content -->
                    </div>
                    <p class="text-xs text-gray-400 mt-4">* 국소적인 압통(Point Tenderness)이 가장 특징적입니다.</p>
                </div>

                <!-- Diagnosis Data Visualization -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 lg:col-span-2">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-lg">진단 방법별 민감도 및 특징</h3>
                        <select id="diagnosis-selector" class="text-sm border-gray-300 rounded-md shadow-sm focus:border-rose-300 focus:ring focus:ring-rose-200 focus:ring-opacity-50 p-1 bg-stone-50">
                            <option value="ultrasound">초음파 (Ultrasound)</option>
                            <option value="mri">MRI (자기공명영상)</option>
                            <option value="clinical">임상 양상 (Clinical)</option>
                        </select>
                    </div>
                    <div class="flex flex-col md:flex-row gap-6">
                        <div class="w-full md:w-1/2">
                            <div class="chart-container" style="height: 250px;">
                                <canvas id="diagnosisChart"></canvas>
                            </div>
                        </div>
                        <div class="w-full md:w-1/2 flex flex-col justify-center">
                            <div id="diagnosis-detail" class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                                <h4 class="font-bold text-rose-700 mb-2">초음파 소견</h4>
                                <p class="text-sm text-gray-600 mb-2">근종 내부의 낭성 변화(Cystic change) 또는 불규칙한 에코 음영이 관찰됩니다.</p>
                                <ul class="text-sm text-gray-500 list-disc list-inside">
                                    <li>접근성이 높음</li>
                                    <li>1차 진단 도구</li>
                                    <li>특이도는 MRI보다 낮음</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Treatment Section (The Core) -->
        <section id="treatment">
            <div class="border-l-4 border-rose-500 pl-4 mb-6">
                <h2 class="text-2xl font-bold text-gray-900">2. 치료 전략 (Treatment Strategy)</h2>
                <p class="mt-1 text-sm text-gray-500">적색변형의 치료는 '보존적 관리'가 원칙입니다. 수술적 개입은 매우 제한적인 경우에만 고려됩니다.</p>
            </div>

            <div class="bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden">
                <!-- Tabs -->
                <div class="flex border-b border-gray-200">
                    <button id="tab-conservative" class="flex-1 py-4 text-center text-sm font-medium active-tab bg-rose-50 transition" onclick="switchTreatment('conservative')">
                        보존적 치료 (1차 원칙)
                    </button>
                    <button id="tab-surgical" class="flex-1 py-4 text-center text-sm font-medium inactive-tab hover:bg-gray-50 transition" onclick="switchTreatment('surgical')">
                        수술적 치료 (예외적 상황)
                    </button>
                </div>

                <div class="p-6 lg:p-10">
                    <div id="content-conservative" class="block">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800 mb-4">보존적 관리 프로토콜</h3>
                                <div class="space-y-6">
                                    <div class="flex">
                                        <div class="flex-shrink-0 h-10 w-10 rounded-full bg-rose-100 flex items-center justify-center text-rose-600 font-bold">1</div>
                                        <div class="ml-4">
                                            <h4 class="text-lg font-medium text-gray-900">수액 공급 및 안정</h4>
                                            <p class="mt-1 text-sm text-gray-500">탈수를 교정하고 혈류 순환을 돕기 위해 충분한 수액을 공급하며 침상 안정을 취합니다.</p>
                                        </div>
                                    </div>
                                    <div class="flex">
                                        <div class="flex-shrink-0 h-10 w-10 rounded-full bg-rose-100 flex items-center justify-center text-rose-600 font-bold">2</div>
                                        <div class="ml-4">
                                            <h4 class="text-lg font-medium text-gray-900">통증 조절 (Analgesics)</h4>
                                            <p class="mt-1 text-sm text-gray-500">
                                                <strong>Acetaminophen:</strong> 1차 선택 약제.<br>
                                                <strong>NSAIDs:</strong> 임신 32주 이전에는 단기간 사용 가능 (동맥관 폐쇄 주의).<br>
                                                <strong>Narcotics:</strong> 통증이 극심한 경우 제한적으로 사용 (Morphine, Pethidine).
                                            </p>
                                        </div>
                                    </div>
                                    <div class="flex">
                                        <div class="flex-shrink-0 h-10 w-10 rounded-full bg-rose-100 flex items-center justify-center text-rose-600 font-bold">3</div>
                                        <div class="ml-4">
                                            <h4 class="text-lg font-medium text-gray-900">항생제 사용?</h4>
                                            <p class="mt-1 text-sm text-gray-500">감염 징후(고열, 백혈구 급증)가 명확하지 않은 경우, 예방적 항생제 사용은 논란의 여지가 있으나 감별 진단을 위해 사용할 수 있습니다.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-stone-50 rounded-xl p-6 border border-stone-200">
                                <h4 class="font-bold text-gray-700 mb-4 text-center">보존적 치료 반응률</h4>
                                <div class="chart-container" style="height: 250px;">
                                    <canvas id="conservativeSuccessChart"></canvas>
                                </div>
                                <p class="text-center text-xs text-gray-400 mt-2">대부분의 환자(90% 이상)가 보존적 치료로 호전됩니다.</p>
                            </div>
                        </div>
                    </div>

                    <div id="content-surgical" class="hidden">
                        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6">
                            <p class="text-sm text-red-700 font-medium">
                                ⚠️ 수술은 보존적 치료 실패, 급성 복증(Acute Abdomen), 또는 난소 염전(Torsion) 의심 시에만 시행합니다. 임신 중 수술은 유산 및 조산의 위험이 있습니다.
                            </p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-3">수술 적응증 (Indications)</h3>
                                <ul class="space-y-2 text-sm text-gray-600 list-disc list-inside bg-white p-4 rounded-lg border border-gray-200">
                                    <li>적절한 약물 치료에도 불구하고 72시간 이상 통증 지속</li>
                                    <li>장폐색(Ileus) 징후가 동반된 경우</li>
                                    <li>유경성 근종(Pedunculated Myoma)의 염전(비틀림)이 의심될 때</li>
                                    <li>복막염 소견이 보일 때</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-3">수술 방법 및 위험성</h3>
                                <div class="space-y-3">
                                    <div class="bg-white p-3 rounded-lg border border-gray-200 shadow-sm">
                                        <span class="font-bold text-gray-800 text-sm">근종절제술 (Myomectomy)</span>
                                        <p class="text-xs text-gray-500 mt-1">가능한 자궁을 보존하며 근종만 제거. 출혈 위험이 큼.</p>
                                    </div>
                                    <div class="bg-white p-3 rounded-lg border border-gray-200 shadow-sm">
                                        <span class="font-bold text-gray-800 text-sm">위험 요소 (Risks)</span>
                                        <p class="text-xs text-gray-500 mt-1">임신 중 수술 시 출혈량이 비임신 시보다 많으며, 자궁 수축 유발로 인한 조기 진통 가능성 존재.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data & Prognosis Section -->
        <section id="data">
            <div class="border-l-4 border-rose-500 pl-4 mb-6">
                <h2 class="text-2xl font-bold text-gray-900">3. 임상 데이터 및 예후 (Data & Prognosis)</h2>
                <p class="mt-1 text-sm text-gray-500">임신 주수별 발생 빈도와 치료 경과에 대한 데이터 시각화입니다.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Chart 1: Incidence by Trimester -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-800 mb-2">임신 분기별 발생 빈도</h3>
                    <p class="text-xs text-gray-500 mb-4">임신 중기(2분기)에 가장 흔하게 발생합니다.</p>
                    <div class="chart-container">
                        <canvas id="trimesterChart"></canvas>
                    </div>
                </div>

                <!-- Chart 2: Pain Resolution Timeline -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-800 mb-2">보존적 치료 시 통증 감소 추이</h3>
                    <p class="text-xs text-gray-500 mb-4">평균적으로 치료 시작 후 3~5일 내에 통증이 급격히 감소합니다.</p>
                    <div class="chart-container">
                        <canvas id="painChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Conclusion Box -->
            <div class="mt-8 bg-rose-900 text-white rounded-xl p-8 text-center shadow-lg">
                <h3 class="text-xl font-bold mb-2">결론 (Conclusion)</h3>
                <p class="max-w-2xl mx-auto text-rose-100 leading-relaxed">
                    자궁근종 적색변형은 임신 중 발생할 수 있는 고통스러운 합병증이나, 
                    <strong>적절한 수액 요법과 진통제 투여를 통한 보존적 치료</strong>로 대부분 안전하게 회복됩니다. 
                    수술은 최후의 수단으로 고려되어야 하며, 정확한 진단을 통해 산모와 태아의 안녕을 최우선으로 해야 합니다.
                </p>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-gray-200 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-400 text-sm">Medical Interactive Report © 2024. Based on Clinical Guidelines for Red Degeneration of Uterine Leiomyoma.</p>
        </div>
    </footer>

    <script>
        // Data Store
        const appData = {
            symptoms: [
                { id: 1, text: "국소적 압통 (Localized Tenderness)", detail: "근종 위치를 눌렀을 때 심한 통증", frequency: 95 },
                { id: 2, text: "급성 복통 (Acute Abdominal Pain)", detail: "갑자기 시작되는 지속적인 통증", frequency: 90 },
                { id: 3, text: "미열 (Low-grade Fever)", detail: "37.5~38.5도의 체온 상승", frequency: 60 },
                { id: 4, text: "백혈구 증가 (Leukocytosis)", detail: "염증 반응으로 인한 수치 상승", frequency: 55 },
                { id: 5, text: "오심 및 구토 (Nausea)", detail: "소화기 증상 동반", frequency: 30 }
            ],
            diagnosis: {
                current: 'ultrasound',
                data: {
                    ultrasound: { label: '초음파', sensitivity: 75, specificity: 60, desc: '접근성이 높으나 MRI보다 확진율이 낮음. 낭성 변화 관찰.' },
                    mri: { label: 'MRI', sensitivity: 95, specificity: 98, desc: 'T1 강조 영상에서 고신호 강도(High Signal)를 보이며 확진에 유리.' },
                    clinical: { label: '임상증상', sensitivity: 80, specificity: 40, desc: '병력 청취와 신체 검진이 기본이 됨.' }
                }
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            renderSymptomList();
            initCharts();
            setupInteractions();
        });

        // Functional Navigation
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if(element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Render Symptom List
        function renderSymptomList() {
            const container = document.getElementById('symptom-list');
            container.innerHTML = appData.symptoms.map(sym => `
                <div class="flex items-start space-x-3 p-2 hover:bg-rose-50 rounded transition cursor-default group">
                    <div class="flex-shrink-0 mt-1">
                        <div class="w-2 h-2 rounded-full bg-rose-400 group-hover:bg-rose-600"></div>
                    </div>
                    <div class="flex-1">
                        <div class="text-sm font-medium text-gray-800">${sym.text}</div>
                        <div class="text-xs text-gray-500">${sym.detail}</div>
                        <div class="w-full bg-gray-200 rounded-full h-1.5 mt-2">
                            <div class="bg-rose-400 h-1.5 rounded-full" style="width: ${sym.frequency}%"></div>
                        </div>
                        <div class="text-[10px] text-right text-gray-400">빈도: ${sym.frequency}%</div>
                    </div>
                </div>
            `).join('');
        }

        // Treatment Tab Switching Logic
        function switchTreatment(mode) {
            const consBtn = document.getElementById('tab-conservative');
            const surgBtn = document.getElementById('tab-surgical');
            const consContent = document.getElementById('content-conservative');
            const surgContent = document.getElementById('content-surgical');

            if (mode === 'conservative') {
                consBtn.classList.add('active-tab', 'bg-rose-50');
                consBtn.classList.remove('inactive-tab');
                surgBtn.classList.remove('active-tab', 'bg-rose-50');
                surgBtn.classList.add('inactive-tab');
                
                consContent.classList.remove('hidden');
                consContent.classList.add('block');
                surgContent.classList.add('hidden');
                surgContent.classList.remove('block');
            } else {
                surgBtn.classList.add('active-tab', 'bg-rose-50');
                surgBtn.classList.remove('inactive-tab');
                consBtn.classList.remove('active-tab', 'bg-rose-50');
                consBtn.classList.add('inactive-tab');

                surgContent.classList.remove('hidden');
                surgContent.classList.add('block');
                consContent.classList.add('hidden');
                consContent.classList.remove('block');
            }
        }

        // Chart Initialization
        let diagnosisChartInstance = null;

        function initCharts() {
            // 1. Diagnosis Comparison Chart (Radar or Bar)
            const ctxDiagnosis = document.getElementById('diagnosisChart').getContext('2d');
            diagnosisChartInstance = new Chart(ctxDiagnosis, {
                type: 'bar',
                data: {
                    labels: ['민감도 (Sensitivity)', '특이도 (Specificity)'],
                    datasets: [{
                        label: '진단 정확도 (%)',
                        data: [75, 60], // Default Ultrasound
                        backgroundColor: ['rgba(225, 29, 72, 0.7)', 'rgba(168, 162, 158, 0.7)'],
                        borderColor: ['rgba(225, 29, 72, 1)', 'rgba(168, 162, 158, 1)'],
                        borderWidth: 1,
                        barThickness: 40,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 100 }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // 2. Conservative Success Rate (Doughnut)
            const ctxSuccess = document.getElementById('conservativeSuccessChart').getContext('2d');
            new Chart(ctxSuccess, {
                type: 'doughnut',
                data: {
                    labels: ['성공 (호전됨)', '실패 (수술/합병증)'],
                    datasets: [{
                        data: [92, 8],
                        backgroundColor: ['#10B981', '#F43F5E'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });

            // 3. Trimester Incidence (Pie)
            const ctxTrimester = document.getElementById('trimesterChart').getContext('2d');
            new Chart(ctxTrimester, {
                type: 'pie',
                data: {
                    labels: ['임신 1분기 (0-13주)', '임신 2분기 (14-27주)', '임신 3분기 (28-40주)', '산욕기'],
                    datasets: [{
                        data: [15, 60, 20, 5],
                        backgroundColor: ['#FECDD3', '#E11D48', '#FDA4AF', '#F43F5E'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });

            // 4. Pain Timeline (Line)
            const ctxPain = document.getElementById('painChart').getContext('2d');
            new Chart(ctxPain, {
                type: 'line',
                data: {
                    labels: ['1일차', '2일차', '3일차', '4일차', '5일차', '6일차', '7일차'],
                    datasets: [{
                        label: '통증 강도 (VAS Score)',
                        data: [9, 8, 6, 4, 2, 1, 0],
                        borderColor: '#E11D48',
                        backgroundColor: 'rgba(225, 29, 72, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { 
                            beginAtZero: true, 
                            max: 10,
                            title: { display: true, text: '통증 점수 (0-10)' }
                        }
                    }
                }
            });
        }

        // Setup Interactions
        function setupInteractions() {
            const selector = document.getElementById('diagnosis-selector');
            const detailContainer = document.getElementById('diagnosis-detail');
            
            selector.addEventListener('change', (e) => {
                const key = e.target.value;
                const data = appData.diagnosis.data[key];

                // Update Chart
                diagnosisChartInstance.data.datasets[0].data = [data.sensitivity, data.specificity];
                diagnosisChartInstance.update();

                // Update Text Detail
                let title = '';
                if(key === 'ultrasound') title = '초음파 소견';
                else if(key === 'mri') title = 'MRI 소견';
                else title = '임상적 특징';

                let listHtml = '';
                if(key === 'ultrasound') listHtml = '<li>접근성이 높음</li><li>1차 진단 도구</li><li>특이도는 MRI보다 낮음</li>';
                else if(key === 'mri') listHtml = '<li>가장 정확한 진단법</li><li>T1 강조영상 고신호</li><li>방사선 노출 없음(임신부 안전)</li>';
                else listHtml = '<li>국소적 압통 확인</li><li>발열 여부 확인</li><li>백혈구 수치 확인</li>';

                detailContainer.innerHTML = `
                    <h4 class="font-bold text-rose-700 mb-2 transition-opacity duration-300">${title}</h4>
                    <p class="text-sm text-gray-600 mb-2">${data.desc}</p>
                    <ul class="text-sm text-gray-500 list-disc list-inside">
                        ${listHtml}
                    </ul>
                `;
            });
        }
    </script>
</body>
</html>